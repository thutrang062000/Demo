<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>C√¥ng c·ª• t√≠nh l√¢m s√†ng</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #4facfe, #00f2fe);
    margin: 0;
    padding: 20px;
}
.container {
    max-width: 900px;
    margin: auto;
    background: #fff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}
h1, h2 {
    color: #333;
}
.section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid #ddd;
}
label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
}
input, select {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
}
button {
    margin-top: 15px;
    padding: 10px 20px;
    background: #4facfe;
    border: none;
    color: white;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
}
button:hover {
    background: #007bff;
}
.result {
    margin-top: 10px;
    font-weight: bold;
    color: #007bff;
}
small {
    color: #555;
}
</style>
</head>

<body>
<div class="container">
<h1>üßÆ C√¥ng c·ª• t√≠nh l√¢m s√†ng</h1>

<!-- ================== eGFR ================== -->
<div class="section">
<h2>1. ƒê·ªô l·ªçc c·∫ßu th·∫≠n (eGFR)</h2>

<label>Tu·ªïi</label>
<input type="number" id="age">

<label>Gi·ªõi</label>
<select id="sex">
    <option value="male">Nam</option>
    <option value="female">N·ªØ</option>
</select>

<label>C√¢n n·∫∑ng (kg)</label>
<input type="number" id="weight">

<label>Creatinine huy·∫øt thanh (mg/dL)</label>
<input type="number" step="0.01" id="creatinine">

<button onclick="calcGFR()">T√≠nh eGFR</button>

<div class="result" id="gfrResult"></div>
</div>

<!-- ================== CHA2DS2-VASc ================== -->
<div class="section">
<h2>2. CHA‚ÇÇDS‚ÇÇ-VASc</h2>

<label><input type="checkbox" id="hf"> Suy tim</label>
<label><input type="checkbox" id="htn"> TƒÉng huy·∫øt √°p</label>
<label><input type="checkbox" id="dm"> ƒê√°i th√°o ƒë∆∞·ªùng</label>
<label><input type="checkbox" id="stroke"> ƒê·ªôt qu·ªµ / TIA / thuy√™n t·∫Øc</label>
<label>Tu·ªïi</label>
<input type="number" id="ageCHA">
<label>Gi·ªõi</label>
<select id="sexCHA">
    <option value="male">Nam</option>
    <option value="female">N·ªØ</option>
</select>
<label><input type="checkbox" id="vascular"> B·ªánh m·∫°ch m√°u</label>

<button onclick="calcCHA()">T√≠nh CHA‚ÇÇDS‚ÇÇ-VASc</button>
<div class="result" id="chaResult"></div>
</div>

<!-- ================== HAS-BLED ================== -->
<div class="section">
<h2>3. HAS-BLED</h2>

<label><input type="checkbox" id="h"> TƒÉng HA</label>
<label><input type="checkbox" id="renal"> Suy th·∫≠n</label>
<label><input type="checkbox" id="liver"> Suy gan</label>
<label><input type="checkbox" id="bleed"> Ti·ªÅn s·ª≠ ch·∫£y m√°u</label>
<label><input type="checkbox" id="labile"> INR kh√¥ng ·ªïn ƒë·ªãnh</label>
<label><input type="checkbox" id="elderly"> Tu·ªïi &gt; 65</label>
<label><input type="checkbox" id="drug"> Thu·ªëc / r∆∞·ª£u</label>

<button onclick="calcHAS()">T√≠nh HAS-BLED</button>
<div class="result" id="hasResult"></div>
</div>

<small>
‚ö†Ô∏è Ch·ªâ mang t√≠nh h·ªó tr·ª£ l√¢m s√†ng ‚Äì kh√¥ng thay th·∫ø quy·∫øt ƒë·ªãnh b√°c sƒ©.
</small>

</div>

<script>
function calcGFR() {
    const age = +age.value;
    const weight = +weight.value;
    const scr = +creatinine.value;
    const female = sex.value === "female";

    // Cockcroft-Gault
    let cg = ((140 - age) * weight) / (72 * scr);
    if (female) cg *= 0.85;

    // MDRD
    let mdrd = 175 * Math.pow(scr, -1.154) * Math.pow(age, -0.203);
    if (female) mdrd *= 0.742;

    gfrResult.innerHTML =
        `Cockcroft‚ÄìGault: ${cg.toFixed(1)} ml/ph√∫t<br>
         MDRD: ${mdrd.toFixed(1)} ml/ph√∫t/1.73m¬≤`;
}

function calcCHA() {
    let score = 0;
    if (hf.checked) score++;
    if (htn.checked) score++;
    if (dm.checked) score++;
    if (stroke.checked) score += 2;
    if (vascular.checked) score++;

    const age = +ageCHA.value;
    if (age >= 75) score += 2;
    else if (age >= 65) score++;

    if (sexCHA.value === "female") score++;

    chaResult.innerHTML = `CHA‚ÇÇDS‚ÇÇ-VASc = ${score}`;
}

function calcHAS() {
    let score = 0;
    if (h.checked) score++;
    if (renal.checked) score++;
    if (liver.checked) score++;
    if (bleed.checked) score++;
    if (labile.checked) score++;
    if (elderly.checked) score++;
    if (drug.checked) score++;

    hasResult.innerHTML = `HAS-BLED = ${score}`;
}
</script>

</body>
</html>
